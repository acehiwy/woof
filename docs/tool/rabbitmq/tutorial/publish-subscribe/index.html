<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tool/rabbitmq/tutorial/publish-subscribe">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Publish/Subscribe | Woof</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://acehiwy.github.io/woof/docs/tool/rabbitmq/tutorial/publish-subscribe"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Publish/Subscribe | Woof"><meta data-rh="true" name="description" content="In the previous tutorial we created a work queue. The assumption behind a work queue is that each task is delivered to exactly one worker."><meta data-rh="true" property="og:description" content="In the previous tutorial we created a work queue. The assumption behind a work queue is that each task is delivered to exactly one worker."><link data-rh="true" rel="icon" href="/woof/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://acehiwy.github.io/woof/docs/tool/rabbitmq/tutorial/publish-subscribe"><link data-rh="true" rel="alternate" href="https://acehiwy.github.io/woof/docs/tool/rabbitmq/tutorial/publish-subscribe" hreflang="en"><link data-rh="true" rel="alternate" href="https://acehiwy.github.io/woof/docs/tool/rabbitmq/tutorial/publish-subscribe" hreflang="x-default"><link rel="stylesheet" href="/woof/assets/css/styles.10b8c30e.css">
<link rel="preload" href="/woof/assets/js/runtime~main.c0ebc54d.js" as="script">
<link rel="preload" href="/woof/assets/js/main.c0fc1b52.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/woof/"><div class="navbar__logo"><img src="/woof/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/woof/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Woof</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/woof/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/woof/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/woof/docs/framework/docusaurus/">Framework</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/woof/docs/tool/anki/">Tools</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/woof/docs/tool/anki/">Anki</a><button aria-label="Toggle the collapsible sidebar category &#x27;Anki&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/woof/docs/tool/rabbitmq/">Rabbitmq</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rabbitmq&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/woof/docs/tool/rabbitmq/tutorial/hello-world">Tutorial</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/woof/docs/tool/rabbitmq/tutorial/hello-world">Hello World</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/woof/docs/tool/rabbitmq/tutorial/work-queues">Work Queues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/woof/docs/tool/rabbitmq/tutorial/publish-subscribe">Publish/Subscribe</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/woof/docs/tool/rabbitmq/tutorial/routing">Routing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/woof/docs/tool/rabbitmq/tutorial/topic">Topics</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/woof/docs/tool/rabbitmq/message-acknowledgment">Message Acknowledgment</a></li></ul></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/woof/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tools</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/woof/docs/tool/rabbitmq/"><span itemprop="name">Rabbitmq</span></a><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tutorial</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Publish/Subscribe</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Publish/Subscribe</h1><p>In the previous tutorial we created a work queue. The assumption behind a work queue is that each task is delivered to exactly one worker.</p><p>In this part we&#x27;ll do something completely different. We&#x27;ll deliver <span style="color:var(--secondary-font-color)"> a message </span> to <span style="color:var(--secondary-font-color)"> multiple consumers </span>.</p><p>This pattern is known as &quot;publish/subscribe&quot;.</p><p>To illustrate the pattern, we&#x27;re going to build a simple logging system. It will consist of two programs -- the first will emit log messages and the second will receive and print them.</p><p>In our logging system every running copy of the receiver program will get the messages. That way we&#x27;ll be able to run one receiver and direct the logs to disk; and at the same time we&#x27;ll be able to run another receiver and see the logs on the screen.</p><p>Essentially, published log <span style="color:var(--secondary-font-color)"> messages are </span> going to be <span style="color:var(--secondary-font-color)"> broadcast to </span> <span style="color:var(--primary-font-color)"> all </span> the <span style="color:var(--secondary-font-color)"> receivers </span>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exchanges">Exchanges<a class="hash-link" href="#exchanges" title="Direct link to heading">​</a></h2><p>The core idea in the messaging model in RabbitMQ is that the <span style="color:var(--secondary-font-color)"> producer never sends any messages directly to a queue </span>. Actually, quite often the producer doesn&#x27;t even know if a message will be delivered to any queue at all.</p><p>Instead, the producer can only send messages to an exchange.</p><p>An exchange is a very simple thing. On one side it receives messages from producers and the other side it pushes them to queues.</p><p>The exchange must know exactly what to do with a message it receives.</p><ul><li>Should it be appended to a particular queue?</li><li>Should it be appended to many queues?</li><li>Should it get discarded?.</li></ul><p>The rules for that are defined by the <code>exchange type</code>.</p><p><img loading="lazy" alt="exchange" src="data:image/png;base64,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" width="332" height="111" class="img_ev3q"></p><p>There are a few exchange types available: <code>direct</code>, <code>topic</code>, <code>headers</code> and <code>fanout</code>. We&#x27;ll focus on the last one -- the <code>fanout</code>.</p><p>Let&#x27;s create an exchange of this type, and call it <code>logs</code>:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">assertExchange</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;logs&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;fanout&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">durable</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>fanout</code> exchange is very simple. It just <span style="color:var(--secondary-font-color)"> broadcasts all the messages it receives to all the queues it knows </span>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-exchange">Default exchange<a class="hash-link" href="#default-exchange" title="Direct link to heading">​</a></h3><p>In previous parts of the tutorial we knew nothing about exchanges, but still were able to send messages to queues. That was possible because we were using a default exchange, which is identified by the empty string <code>&quot;&quot;</code>.</p><p>Recall how we published a message before:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sendToQueue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;hello&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Buffer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword module" style="color:#00009f">from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Hello World!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here we use the default or nameless exchange: messages are routed to the queue with the name specified as first parameter, if it exists.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="publish-message-to-exchange">Publish message to exchange<a class="hash-link" href="#publish-message-to-exchange" title="Direct link to heading">​</a></h3><p>Now, we can publish to our named exchange:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">publish</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;logs&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Buffer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword module" style="color:#00009f">from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Hello World!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The empty string as second parameter means that we don&#x27;t want to send the message to any specific queue. We want only to publish it to our <code>logs</code> exchange.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>later</div><div class="admonitionContent_S0QG"><p>To list the exchanges on the server you can run the ever useful <code>rabbitmqctl</code>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> rabbitmqctl list_exchanges</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this list there will be some <code>amq.*</code> exchanges and the default (unnamed) exchange.</p><p>These are created by default, but it is unlikely you&#x27;ll need to use them at the moment.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="temporary-queues">Temporary queues<a class="hash-link" href="#temporary-queues" title="Direct link to heading">​</a></h2><p>As you may remember previously we were using queues that had specific names.
Giving a queue a name is important when you want to share the queue between producers and consumers.</p><p>But that&#x27;s not the case for our logger. We want to hear about all log messages, not just a subset of them. We&#x27;re also interested only in currently flowing messages not in the old ones.</p><p>To solve that we need two things.</p><ol><li>Whenever we connect to Rabbit we need a fresh, empty queue. To do this we could create a queue with a random name, or, even better - let the server choose a random queue name for us.</li><li>Once we disconnect the consumer the queue should be automatically deleted.</li></ol><p>In the <code>amqp.node</code> client, when we supply queue name as an empty string, we create a non-durable queue with a generated name:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">assertQueue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">exclusive</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When the method returns, the queue instance contains a random queue name generated by RabbitMQ. eg. <code>amq.gen-JzTY20BRgKO-HjmUJj0wLg</code></p><p>​<span style="color:var(--secondary-font-color)"> When the connection that declared it closes, the queue will be deleted </span> because it is declared as exclusive.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>later</div><div class="admonitionContent_S0QG"><p>You can learn more about the exclusive flag and other queue properties in the <a href="https://www.rabbitmq.com/queues.html" target="_blank" rel="noopener noreferrer">guide on queues</a>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bindings">Bindings<a class="hash-link" href="#bindings" title="Direct link to heading">​</a></h2><p>We&#x27;ve already created a fanout exchange and a queue. Now we need to tell the exchange to send messages to our queue.</p><p>That relationship between exchange and a queue is called a binding.</p><p><img loading="lazy" alt="bindings" src="data:image/png;base64,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" width="322" height="91" class="img_ev3q"></p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">bindQueue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">queue_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;logs&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>From now on the <code>logs</code> exchange will append messages to our queue.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>later</div><div class="admonitionContent_S0QG"><p>You can list existing bindings using</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmqctl list_bindings</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="putting-it-all-together">Putting it all together<a class="hash-link" href="#putting-it-all-together" title="Direct link to heading">​</a></h2><p><img loading="lazy" alt="Publish Subscribe All" src="data:image/png;base64,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" width="329" height="160" class="img_ev3q"></p><p>The producer program, which emits log messages, doesn&#x27;t look much different from the <a href="/woof/docs/tool/rabbitmq/tutorial/work-queues">previous tutorial</a>. The most important change is that we now want to publish messages to our logs exchange.</p><p>We need to supply a routing key when sending a message to exchange, but its value is ignored for <code>fanout</code> exchanges.</p><p>Here goes the code for publisher, <code>emit_log.js</code> script:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">emit_log.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> amqp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;amqplib/callback_api&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">amqp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;amqp://localhost&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">error0</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> connection</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> error0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  connection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createChannel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">error1</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> channel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> error1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> exchange </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;logs&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> msg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">argv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">slice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot; &quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Hello World!&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">assertExchange</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">exchange</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;fanout&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">durable</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">publish</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">exchange</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Buffer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword module" style="color:#00009f">from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot; [x] Sent %s&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    connection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As you see, after establishing the connection we declared the exchange. This step is necessary as publishing to a non-existing exchange is forbidden.</p><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>The messages will be lost if no queue is bound to the exchange yet.</p></div></div><p>But that&#x27;s okay for us in this case; if no consumer is listening yet we can safely discard the message.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">receive_logs.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> amqp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;amqplib/callback_api&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">amqp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;amqp://localhost&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">error0</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> connection</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> error0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  connection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createChannel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">error1</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> channel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> error1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> exchange </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;logs&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">assertExchange</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">exchange</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;fanout&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">durable</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">assertQueue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">exclusive</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">error2</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> q</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> error2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot; [*] Waiting for messages in %s. To exit press CTRL+C&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">queue</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">bindQueue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">queue</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exchange</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        channel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">consume</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">queue</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">content</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">              </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot; [x] %s&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">content</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">noAck</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-tutorial-code">Running tutorial code<a class="hash-link" href="#running-tutorial-code" title="Direct link to heading">​</a></h2><p>To save logs to files:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">node</span><span class="token plain"> receive_logs.js </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> logs_from_rabbit.log</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Print logs to screen</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">node</span><span class="token plain"> receive_logs.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then emit the logs:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">node</span><span class="token plain"> emit_log.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Using <code>rabbitmqctl list_bindings</code> you can verify that the code actually creates bindings and queues as we want.</p><p>With two <code>receive_logs.js</code> programs running you should see something like:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sudo rabbitmqctl list_bindings</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"># =&gt; Listing bindings ...</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"># =&gt; logs    exchange        amq.gen-JzTY20BRgKO-HjmUJj0wLg  queue           []</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"># =&gt; logs    exchange        amq.gen-vso0PVvyiRIL2WoV3i48Yg  queue           []</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"># =&gt; ...done.</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><br><hr><h1>Sources</h1><ul><li><a href="https://www.rabbitmq.com/tutorials/tutorial-three-javascript.html" target="_blank" rel="noopener noreferrer">https://www.rabbitmq.com/tutorials/tutorial-three-javascript.html</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/woof/docs/tags/rabbitmq">rabbitmq</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tool/rabbitmq/tutorial/publish-subscribe.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/woof/docs/tool/rabbitmq/tutorial/work-queues"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Work Queues</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/woof/docs/tool/rabbitmq/tutorial/routing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Routing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#exchanges" class="table-of-contents__link toc-highlight">Exchanges</a><ul><li><a href="#default-exchange" class="table-of-contents__link toc-highlight">Default exchange</a></li><li><a href="#publish-message-to-exchange" class="table-of-contents__link toc-highlight">Publish message to exchange</a></li></ul></li><li><a href="#temporary-queues" class="table-of-contents__link toc-highlight">Temporary queues</a></li><li><a href="#bindings" class="table-of-contents__link toc-highlight">Bindings</a></li><li><a href="#putting-it-all-together" class="table-of-contents__link toc-highlight">Putting it all together</a></li><li><a href="#running-tutorial-code" class="table-of-contents__link toc-highlight">Running tutorial code</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/woof/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/woof/assets/js/runtime~main.c0ebc54d.js"></script>
<script src="/woof/assets/js/main.c0fc1b52.js"></script>
</body>
</html>